{"version":3,"sources":["components/Publication/Publication.module.css","components/Reader/Reader.module.css","components/Counter/Counter.module.css","components/Publication/Publication.js","components/Reader/Reader.js","components/Counter/Counter.js","components/Controls/Controls.js","pages/ReaderPage/ReaderPage.js","components/App.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Publication","items","title","text","className","css","publication","Reader","page","reader","Counter","total","counter","Controls","handlePrevPage","handleNextPage","controls","onClick","type","button","disabled","defaultProps","App","state","onPageChange","props","history","push","pathname","location","search","setState","prevState","this","searchPage","queryString","parse","item","publications","length","prevProps","Component","path","component","ReaderPage","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.5dae65c7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__Oqhgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3FTnK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2_c-C\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Publication.module.css';\n\nconst Publication = ({ items: { title, text } }) => {\n  return (\n    <article className={css.publication}>\n      <h2>{title}</h2>\n      <p>{text}</p>\n    </article>\n  );\n};\n\nPublication.propTypes = {\n  items: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport css from './Reader.module.css';\n\nconst Reader = ({ items, page }) => {\n  return (\n    <div className={css.reader}>\n      <Publication items={items[page]} />\n    </div>\n  );\n};\n\nReader.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default Reader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Counter.module.css';\n\nconst Counter = ({ page, total }) => {\n  return (\n    <>\n      <p className={css.counter}>\n        {page}/{total - 1}\n      </p>\n    </>\n  );\n};\n\nCounter.propTypes = {\n  page: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './Controls.module.css';\n\nconst Controls = ({ handlePrevPage, handleNextPage, page, total }) => {\n  return (\n    <>\n      <section className={css.controls}>\n        <button\n          onClick={handlePrevPage}\n          type=\"button\"\n          className={css.button}\n          disabled={page === 0}\n        >\n          Назад\n        </button>\n        <button\n          onClick={handleNextPage}\n          type=\"button\"\n          className={css.button}\n          disabled={page + 1 === total}\n        >\n          Вперед\n        </button>\n      </section>\n    </>\n  );\n};\n\nControls.defaultProps = {\n  handlePrevPage: '',\n  handleNextPage: '',\n};\n\nControls.propTypes = {\n  handlePrevPage: PropTypes.func,\n  handleNextPage: PropTypes.func,\n  page: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","/* eslint-disable react/no-did-update-set-state */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport publications from '../../server/publications.json';\nimport Reader from '../../components/Reader/Reader';\nimport Counter from '../../components/Counter/Counter';\nimport Controls from '../../components/Controls/Controls';\n\nexport default class App extends Component {\n  state = {\n    page: 0,\n  };\n\n  static propTypes = {\n    location: PropTypes.shape({\n      search: PropTypes.string,\n      pathname: PropTypes.string,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }).isRequired,\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const parsed = queryString.parse(location.search);\n    const searchPage = +parsed.item;\n    if (searchPage >= 1 && searchPage <= publications.length) {\n      this.setState({ page: searchPage - 1 });\n    } else {\n      this.setState({ page: 0 }, page => this.onPageChange(page));\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { location } = this.props;\n    const parsed = queryString.parse(location.search);\n    const searchPage = +parsed.item;\n    if (prevProps.location.search !== location.search) {\n      this.setState({ page: searchPage - 1 });\n    }\n  }\n\n  onPageChange = () => {\n    const { page } = this.state;\n    this.props.history.push({\n      pathname: this.props.location.pathname,\n      search: `item=${page + 1}`,\n    });\n  };\n\n  handleNextPage = () => {\n    this.setState(\n      prevState => ({\n        page: prevState.page + 1,\n      }),\n      page => this.onPageChange(page),\n    );\n  };\n\n  handlePrevPage = () => {\n    this.setState(\n      prevState => ({\n        page: prevState.page - 1,\n      }),\n      page => this.onPageChange(page),\n    );\n  };\n\n  render() {\n    const { page } = this.state;\n    const total = publications.length;\n    return (\n      <>\n        <Reader items={publications} page={page} />\n        <Counter page={page + 1} total={total + 1} />\n        <Controls\n          handleNextPage={this.handleNextPage}\n          handlePrevPage={this.handlePrevPage}\n          page={page}\n          total={total}\n        />\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n// import Navigation from './Navigation/Navigation';\n// import HomePage from '../pages/HomePage/HomePage';\nimport ReaderPage from '../pages/ReaderPage/ReaderPage';\n// import AboutPage from '../pages/AboutPage/AboutPage';\n// import Pagenotfound from '../pages/PageNotFound/PageNotFound';\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      {/* <Navigation /> */}\n\n      <Switch>\n        {/* <Route path=\"/\" exact component={HomePage} /> */}\n        {/* <Route path=\"/about\" component={AboutPage} /> */}\n        <Route path=\"/reader\" component={ReaderPage} />\n        {/* <Route component={Pagenotfound} /> */}\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App';\nimport './styles.css';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__mRkdQ\",\"button\":\"Controls_button__3Tqrt\"};"],"sourceRoot":""}